{% extends "web/layout/base.html" %}
{%load static%}
{%block title%}
<title>Vehicle Management</title>
{%endblock title%}
{%block style%}
<link rel="stylesheet" href="{% static 'website/css/splide.min.css' %}">
<link rel="stylesheet" href="{% static 'website/css/jquery.datetimepicker.min.css' %}">
<script src="{% static 'website/js/splide.min.js' %}"></script>
<script src="{% static 'website/js/jquery.datetimepicker.full.min.js' %}"></script>
{%endblock%}
{%block content%}

{%if messages%}
  {%for message in messages%}
  <script type="text/javascript">
      toastr["{{message.tags}}"]("{{message}}", "{{message.tags|upper}}");
  </script>
  {%endfor%}
{%endif%}

<div>
  <div>
    <main class="main">
        <div style="padding: 10px 40px;">
            <div class="row">
                <div class="col-4">
                    <section class="splide" aria-label="Splide Basic HTML Example" style="max-height: 500px;">
                        <div class="splide__track">
                              <ul class="splide__list">
                                  <li class="splide__slide">
                                    <img src="{{V.thumbnail.url}}" alt="t" style="width: 100%; height: 100%;"/>
                                  </li>
                                  {%for i in V.vehicleimage_set.all %}
                                  <li class="splide__slide">
                                    <img src="{{i.image.url}}" alt="t" style="width: 100%;"/>
                                  </li>
                                  {%endfor%}
                              </ul>
                        </div>
                    </section>
                </div>
                <div class="col-4">
                    <h5>{{V.name}}</h5>
                    <p>{{V.description}}</p>
                    <p>No of Passengers : {{V.capacity}}</p>
                    <p>Hourly Rate: {{V.hourly_rate}} Tk</p>
                    <p>Driver: {{V.driver.name}}</p>
                    <p>Contact: {{V.driver.contact_info}}</p>
                    <p>License: {{V.driver.license_info}}</p>
                    {%if AA %}
                    <p style="color: green; font-weight: bold; font-size: 18px;">This vehicle will be available after {{AA}}</p>
                    {%else%}
                    <p style="color: green; font-weight: bold; font-size: 18px;">This vehicle is available for rent now</p>
                    {%endif%}
                    <form method="post" autocomplete="off" style="background: #97a8ff;padding: 10px">
                      {%csrf_token%}
                      <p style="color: white;">Please let us know when you will need the vehicle</p>
                      <label class="me-1">From </label>
                      <input type="text" id="start" name="start" required class="me-2"/>
                      <label class="me-1">To </label>
                      <input type="text" id="end" name="end" required/></br>
                      <div class="ms-2 mt-3"></div><button class="btn btn-success">Request</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
  </div>
</div>

{%endblock%}
{%block js%}
<script>
    new Splide( '.splide' ).mount();
    jQuery('#start').datetimepicker({format:'Y-m-d H:i'});
    jQuery('#end').datetimepicker({format:'Y-m-d H:i'});
</script>
{%endblock%}